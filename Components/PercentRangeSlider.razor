<label for="rangeSlider" class="text-muted" style="font-size: 0.85em">
    @Label
</label>
<div>
    <div class="text-center" style="font-size: 0.7em">
        @ValueString
    </div>
    <input type="range" class="form-range" id="rangeSlider" value="@Value"
           min="0" max="50" step="0.1"
           @oninput="HandleValueChange">
</div>

@code {
    [Parameter]
    public string? Label { get; set; }

    [Parameter]
    public double Value { get; set; }

    [Parameter]
    public EventCallback<double> ValueChanged { get; set; }

    private string ValueString => (Value / 100.0).ToString("P1");

    private async Task HandleValueChange(ChangeEventArgs e)
    {
        Value = ToDouble(e.Value);
        await ValueChanged.InvokeAsync(Value);
    }

    private static double ToDouble(object? value)
    {
        if (string.IsNullOrWhiteSpace(value as string))
            return 0;
        return Convert.ToDouble(value);
    }
}
